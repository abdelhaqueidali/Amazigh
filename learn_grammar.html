<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazigh Grammar - Learn Amazigh</title>
    <!-- Google Fonts - Noto Sans Tifinagh -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tifinagh&display=swap" rel="stylesheet">
    <style>
        /*  PASTE THE ENTIRE CSS CODE FROM PART 1 HERE (the original CSS) */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f8f8;
            color: #333;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Container for the entire page content */
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 20px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            flex: 1;
        }

        /* Header Styles */
        header {
            background-color: #4CAF50;
            color: #fff;
            padding: 10px 0;
            text-align: center;
            border-radius: 8px 8px 0 0;
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        /* Navigation Menu Styles */
        .nav-toggle, .grammar-toggle { /* Added .grammar-toggle */
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #333;
            color: #fff;
            text-align: center;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .grammar-toggle{
            background-color: #007bff; /* Different color for grammar toggle */
        }

        nav ul, #grammar-list-container ul {  /* Style both menus similarly */
            list-style: none;
            padding: 0;
            margin: 0;
            display: none; /* Initially hidden */
            background-color: #eee;
            border-radius: 5px;
        }

        nav ul.show, #grammar-list-container ul.show { /* Use .show for both */
            display: block;
        }

        nav li, #grammar-list-container li { /* Style list items */
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        nav li:last-child,  #grammar-list-container li:last-child{
            border-bottom: none;
        }

        nav a, #grammar-list-container a { /* Style links (and list items for grammar as links)*/
            text-decoration: none;
            color: #333;
            display: block;
            cursor: pointer; /* Make sure grammar list items have a pointer */
        }
        nav a:hover, #grammar-list-container li:hover { /* Hover effect for both */
           background-color: #ddd;
        }
        #grammar-list-container li:hover {
              background-color: #f0f8f1; /* Light green on hover */
        }

        nav .current-page {
            font-weight: bold;
            color: #4CAF50;
        }
        #grammar-list li.active {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
        }

        /* --- GRAMMAR-SPECIFIC STYLES --- */
        .main-content {
            /*display: flex;  Removed flexbox layout */
            /*flex-direction: row;*/
            margin-top: 10px; /* Add some spacing */
        }

        #grammar-list-container {
            /*width: 25%; Removed width */
            /*padding-right: 20px; Removed padding */
            /*border-right: 1px solid #ddd; Removed border */
        }

        /* No longer needed for horizontal layout
        #grammar-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #grammar-list li {
            padding: 8px 12px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }

        #grammar-list li:hover {
            background-color: #f0f8f1;
        }

        #grammar-list li.active {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
        }
        */


        #grammar-content {
            /*flex: 1; Removed flex property*/
            /*padding-left: 20px;  Removed padding*/
            font-size: 1.1em;
            line-height: 1.8;
            white-space: pre-wrap;
            margin-top: 20px; /* Space below the grammar list */
        }

        #grammar-content h2 {
            color: #4CAF50;
        }

        /* Footer Styles */
        footer {
            text-align: center;
            padding: 10px;
            background-color: #333;
            color: #fff;
            border-radius: 0 0 8px 8px;
        }

        /* Responsive Design - Optional, but good practice */
        @media (max-width: 768px) {
             /* Adjust styles for smaller screens if needed */
        }

    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Amazigh Grammar</h1>
        </header>

        <button class="nav-toggle">Show/Hide Menu</button>
        <nav>
              <ul id="menu">
                <li><a href="index.html">ⴰⵙⵏⵓⴱⴳ - Home</a></li>
                <li><a href="learn_tifinagh.html">ⴰⴳⵯⵎⵎⴰⵢ - Alphabet</a></li>
                <li><a href="learn_number.html">ⵓⵟⵟⵓⵏⵏ - Numbers</a></li>
                <li><a href="learn_color.html">ⵉⴽⵯⵍⴰⵏ - Colors</a></li>
                <li><a href="read_story.html">ⵜⵓⵍⵍⵉⵙⵉⵏ - Stories</a></li>
                <li><a href="tifinagh_game.html">ⵜⴰⵙⵓⵔⴰⵔⵜ ⵏ ⵓⴳⵯⵎⵎⴰⵢ - Alphabet Game</a></li>
                <li><a href="learn_word.html">ⵜⵉⴳⵓⵔⵉⵡⵉⵏ - Words</a></li>
                <li><a href="number_game.html">ⵜⴰⵙⵓⵔⴰⵔⵜ ⵏ ⵓⵟⵟⵓⵏⵏ - Number Game</a></li>
                <li><a href="color_game.html">ⵜⴰⵙⵓⵔⴰⵔⵜ ⵏ ⵉⴽⵯⵍⴰⵏ - Color Game</a></li>
                <li><a href="learn_grammar.html" class="current-page">ⵜⴰⵊⵕⵕⵓⵎⵜ - Grammar</a></li>
            </ul>
        </nav>

        <button class="grammar-toggle">Show/Hide Grammar Topics</button>
        <div id="grammar-list-container">
                <!--<h2>Grammar Topics</h2> removed heading-->
                <ul id="grammar-list">
                    <!-- Grammar topic list items will be added here by JavaScript -->
                </ul>
        </div>

        <div class="main-content">
            <div id="grammar-content">
                <!-- Grammar content will be displayed here -->
                <h2>Select a topic to begin.</h2>
            </div>
        </div>

        <footer>
            <p>© 2023 Learn Amazigh</p>
        </footer>
    </div>

    <script>
        const navToggle = document.querySelector('.nav-toggle');
        const menu = document.querySelector('#menu');
        const grammarList = document.getElementById('grammar-list');
        const grammarContent = document.getElementById('grammar-content');
        const grammarToggle = document.querySelector('.grammar-toggle'); // Get the grammar toggle
        const grammarListContainer = document.getElementById('grammar-list-container');

        navToggle.addEventListener('click', () => {
            menu.classList.toggle('show');
        });

        // Toggle for grammar list
        grammarToggle.addEventListener('click', () => {
            grammarListContainer.querySelector('ul').classList.toggle('show'); // Toggle the UL inside
        });

        // Array of grammar file names (without the .txt extension)
        const grammarTopics = [
            "noun",
            "pronoun",
            "verb",
            "noun state"
        ];

        let activeGrammar = null;
        // Function to load and display a grammar topic
        function loadGrammarTopic(filename) {
            if (activeGrammar) {
                activeGrammar.classList.remove('active');
            }
            fetch(`grammar/${filename}.txt`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.text();
                })
                .then(text => {
                    grammarContent.innerHTML =  `<h2>${filename}</h2>${text}`;
					const currentGrammar = document.getElementById(filename);
                    if(currentGrammar){
                        currentGrammar.classList.add('active');
                        activeGrammar = currentGrammar;
                    }
                })
                .catch(error => {
                    grammarContent.innerHTML = `<p>Error loading grammar topic: ${error.message}</p>`;
                });
        }

        // Create list items for each grammar topic
        grammarTopics.forEach(topic => {
            const listItem = document.createElement('li');
            listItem.textContent = topic; // Use filename as title for now
            listItem.id = topic; // Set the ID for later use
            listItem.addEventListener('click', () => {
                loadGrammarTopic(topic);
            });
            grammarList.appendChild(listItem);
        });
		// Load the first topic by default
        if (grammarTopics.length > 0) {
            loadGrammarTopic(grammarTopics[0]);
        }
    </script>
</body>
</html>
